# 相机知识



## 相机成像原理

​	被拍摄物体反射出的光线经过镜头进入相机，并照在感光元器件上，形成物像。直接影响成像质量的参数：1. 光照；2. 分辨率；3. 像素尺寸/靶面尺寸。

![相机成像原理](/home/beinggod/workspace/RmCamSDK/asset/相机成像原理.png)

​	简单原理介绍可以[观看视频](https://www.bilibili.com/video/BV1UK411n7gn?from=search&seid=12220851787811774578)。



## 相机参数解释

● 焦距：不解释了。

● 曝光时间，快门与光圈：这是三个与我们比赛中拍摄出图像质量直接相关的参数。光圈是镜头和感官元器件之间的一个物理器件，其直接控制了物理进光量。当我们需要拍摄一张图片时，我们需要按下快门，这个时候经过相应的曝光时间，照片才被拍摄下来。这个时间越长，拍摄到的图片亮度肯定越高。

● 像素数：指的是一款传感器的最大图像素数。通常相机的像素排列是矩形的，可以认为像素是按照固定的间隔排列的小方格，填充整个相机成像平面。

● 分辨率：单位面积上所包含的像素点个数。通常情况下图像分辨率越高图像越清晰。

● 曝光/快门速度：指将感光元件置于光照下多长时间。时间的长短直接导致成像的明暗。长，进光量多，图像明亮，适用于光照较差的环境；短，进光量短，图像暗，适用于光照充足的情况。

● 像素尺寸/靶面尺寸：像素和像素尺寸决定着靶面尺寸。目前工业数字相机像元尺寸一般为3um~10um，靶面尺寸一般为1/2寸、1/3寸等。在同等镜头的条件下，根据成像原理可知，像素尺寸和靶面尺寸越大的成像效果会更好。

● 帧率：指的是一秒钟内可以采集多少幅图像。一般CCD相机需要增加采集卡（模拟转数字），受解析格式影响帧率较固定PAL  25帧NTSC 30帧。CMOS属于数字相机，帧率一般可通过自身设定软件等手段更改。目前最快帧率可达几十万帧。

● 像素深度：每个像素数据由多少位（bit）数，常见的有8bit,10bit,12bit。由于计算机存储一般以8bit为倍数，千万不要想当然就是8bit哟！在图像处理时，位数越多表示的范围越大，对软件可调整范围也就越大，当然随之而来的就是内存的增加和和存储方式的复杂度增加。

● 噪声：噪声是指成像过程中不希望被采集到的，实际成像目标之外的信号。总体上分为两类，一类是由有效信号带来的散粒噪声，这种噪声对任何相机都存在；另一类是相机本身固有的与信号无关的噪声。它是由于图像传感器读出电路、相机信号处理与放大电路带来的固有噪声，每台相机的固有噪声都不一样。

● 信噪比：是指一个电子设备或者电子系统中信号与噪声的比例，信号噪声比值的10为底对数的20倍。CCD 工业相机的信噪比的典型值一般为 45---55dB。代表了图像的质量，图像信噪比越高，相机性能和图像质量越好。

 ● 白平衡与黑平衡：白平衡是彩色工业相机的重要参数，它直接影响重现图像的彩色效果，当工业相机的白平衡设置不当时，输出图像就会出现偏色现象，特别是会使原本不带色彩的景物也着上了颜色。黑平衡也是彩色工业相机的一个重要参数，它是指工业相机在拍摄黑色景物或者盖上镜头盖时，输出的 3 个基本电平应相等，使在监视器屏幕上出现纯黑色。简单来说白平衡就是让原本白色的物体显现白色。

● 增益：经过双采样之后的模拟信号的放大增益。由于在对图像信号进行放大的过程中同时也会放大噪声信号,因此通常把放大器增益设为最小,曝光和增益是直接控制传感器(CCD/CMOS)上读出来的数据，是要优先调节的，以调节曝光时间为主。在不过曝的前提下，增加曝光时间可以增加信噪比，使图像清晰。当然，对于很弱的信号，曝光也不能无限增加，因为随着曝光时间的增加，噪声也会积累， 曝光补偿就是增加拍摄时的曝光量。增益一般只是在信号弱，但不想增加曝光时间的情况下使用，一般相机增益都产生很大噪音。

● 硬件触发：正常模式下,相机开始工作后,就是一直连续的采集图像，采集完一帧后,就马上开始下一帧的采集,如此循环，即软件触发。在一些工业应用上，并不需要相机一直连续采集图像，而是等待特定的事件发生后，才希望相机采集一帧图像，并得到处理后的结果，这种情况下，就需要使用硬件(外)触发模式，支持这种工作方式的工业相机，都会在相机上留有专用的触发接头，一般是 4 芯到 12 芯不等的航空接头。进入触发模式后，相机会等待有效的信号，信号的有效性可以通过软件来设置，例如高、低电平方式或者上、下边沿跳发方式。典型应用场景：双目视觉。



## 相机设备选型

​	比赛中，相机设备选型最终最重要的一个参数就是焦距，焦距的选取主要需要考虑三个因素：1. 物距 2. 像素尺寸 3. 视野范围。

![焦距计算](/home/beinggod/workspace/RmCamSDK/asset/焦距计算.png)

​	具体可以参考[这篇文章](https://zhuanlan.zhihu.com/p/59684549)





